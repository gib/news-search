(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(2),c=a(3),r=a(5),l=a(4),s=a(6),i=a(1),h=a(0),o=a.n(h),u=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(c.a)(t,[{key:"createMarkup",value:function(e){return{__html:e}}},{key:"render",value:function(){var e=this.props.article,t=new URL(e.url).hostname.replace("www.",""),a="//logo.clearbit.com/".concat(t,"?size=60"),n=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(e.publishedAt)),c=e.urlToImage||"newspaper.svg";return o.a.createElement("article",{className:"article"},o.a.createElement("figure",null,o.a.createElement("img",{className:"article-image",alt:"",src:c})),o.a.createElement("div",{className:"article-content"},o.a.createElement("div",{className:"article-header"},o.a.createElement("div",{className:"article-hgroup"},o.a.createElement("h2",{className:"article-title"},e.title),o.a.createElement("h4",{className:"article-published"},o.a.createElement("img",{className:"article-source",alt:"",src:a}),n))),o.a.createElement("p",{className:"article-summary",dangerouslySetInnerHTML:this.createMarkup(e.description)}),o.a.createElement("a",{className:"article-readmore",target:"new",href:e.url},"Read More")))}}]),t}(h.Component),m=function(e){function t(){return Object(n.a)(this,t),Object(r.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.articles||[],t=e.map(function(e,t){return o.a.createElement(u,{article:e,key:t})});return e.length>0?o.a.createElement("div",{className:"articles"},t):null}}]),t}(h.Component),d=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={apiKey:"d45e519b794d4dfc8444c23427075fca",hasArticles:e.hasArticles||!1,query:"",sortBy:"publishedAt",totalResults:0},a.handleSearchChange=a.handleSearchChange.bind(Object(i.a)(Object(i.a)(a))),a.handleSortChange=a.handleSortChange.bind(Object(i.a)(Object(i.a)(a))),a.handleSubmit=a.handleSubmit.bind(Object(i.a)(Object(i.a)(a))),a}return Object(s.a)(t,e),Object(c.a)(t,[{key:"handleSortChange",value:function(e){this.setState({sortBy:encodeURIComponent(e.target.value)}),this.handleSubmit(e)}},{key:"handleSearchChange",value:function(e){this.setState({query:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this,a=this.state,n=a.apiKey,c=a.sortBy,r=a.query,l=encodeURIComponent(r),s="https://newsapi.org/v2/everything?language=en&q=".concat(l,"&apiKey=").concat(n,"&sortBy=").concat(c);e.preventDefault(),""===r&&this.props.onArticlesUpdate([]),this.props.onFetchingArticles(),fetch(s).then(function(e){return e.json()}).then(function(e){t.props.onArticlesUpdate(e.articles||[])},function(e){t.props.onArticlesUpdate([])})}},{key:"render",value:function(){var e="searchbar";return this.props.hasArticles||(e="searchbar welcome"),o.a.createElement("header",{className:e},o.a.createElement("h1",{className:"searchbar-welcome"},"News Search"),o.a.createElement("form",{className:"searchbar-form",onSubmit:this.handleSubmit},o.a.createElement("input",{className:"searchbar-input",autoFocus:!0,onChange:this.handleSearchChange,type:"search",placeholder:"Search",value:this.state.query}),o.a.createElement("select",{className:"searchbar-sort",onChange:this.handleSortChange},o.a.createElement("option",{value:"publishedAt"},"Publish Date"),o.a.createElement("option",{value:"popularity"},"Popularity"),o.a.createElement("option",{value:"relevancy"},"Relevancy")),o.a.createElement("input",{type:"submit",className:"searchbar-submit",value:"Search"})),o.a.createElement("p",{className:"searchbar-subtitle"},"Search news from over 30,000 global sources!"))}}]),t}(h.Component),p=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e))).state={articles:[],query:""},a.handleArticlesUpdate=a.handleArticlesUpdate.bind(Object(i.a)(Object(i.a)(a))),a.handleFetchingArticles=a.handleFetchingArticles.bind(Object(i.a)(Object(i.a)(a))),a.handleHeadlineSelect=a.handleHeadlineSelect.bind(Object(i.a)(Object(i.a)(a))),a}return Object(s.a)(t,e),Object(c.a)(t,[{key:"handleFetchingArticles",value:function(){this.setState({fetchingArticles:!0})}},{key:"handleArticlesUpdate",value:function(e){this.setState({articles:e,fetchingArticles:!1})}},{key:"handleHeadlineSelect",value:function(e){this.setState({query:e})}},{key:"render",value:function(){var e=this.state.articles.length>0;return o.a.createElement("div",{className:"sortable-news-search"},o.a.createElement(d,{hasArticles:e,onFetchingArticles:this.handleFetchingArticles,onArticlesUpdate:this.handleArticlesUpdate}),o.a.createElement(m,{articles:this.state.articles,fetchingArticles:this.state.fetchingArticles}))}}]),t}(h.Component),b=a(8),g=a.n(b);a(15),a(16);g.a.render(o.a.createElement(p,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.39d3479d.chunk.js.map